{% extends 'base.html' %}

{% load bootstrap3 %}

{% block credentials %}active{% endblock %}

{% block content %}
<h2>Default Credentials</h2>
<table class="table">
<thead>
<tr>
<th>ID</th>
<th>Username</th>
<th>Password</th>
<th>Services</th>
<th></th>
</tr>
</thead>
<tbody>
{% for c in credentials %}
<tr>
<td>{{ c.pk }}</td>
<td>{{ c.username }}</td>
<td>{{ c.password }}</td>
<td>{{ c.services }}</td>
<td>
<form method="post" action="{% url 'credentials' %}">
{% csrf_token %}
<input type='hidden' name='type' value='credential' />
<input type='hidden' name='delete' value='true' />
<input type='hidden' name='id' value='{{ c.pk }}' />
<button class="btn btn-danger pull-right">
<span class="glyphicon glyphicon-trash"></span>
</button>
</form>
</td>
</tr>
{% endfor %}
<tr>
<td colspan="5">
<button class="btn btn-success" data-toggle="modal" data-target="#credentialModal">
<span class="glyphicon glyphicon-plus"></span>
</button>
</td>
</tr>
</tbody>
</table>

{% endblock %}

{% block after %}
<div class="modal fade" id="credentialModal" tabindex="-1" role="dialog" aria-labelledby="credentialModalLabel">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
<h4 class="modal-title" id="credentialModalLabel">New Credential</h4>
</div>
<div class="modal-body">
<form method="post" action="{% url 'credentials' %}">
{% csrf_token %}
<div class="form-group">
  <label class="control-label" for="id_username">Username</label>
  <input class="form-control" id="id_username" maxlength="20" name="username" placeholder="Username" title="" required="" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAALZJREFUOBFjYKAANDQ0rGWiQD9IqzgL0BQ3IKMXiB8AcSKQ/waIrYDsKUD8Fir2pKmpSf/fv3+zgPxfzMzMSbW1tbeBbAaQC+b+//9fB4h9gOwikCAQTAPyDYHYBciuBQkANfcB+WZAbPP37992kBgIUOoFBiZGRsYkIL4ExJvZ2NhAXmFgYmLKBPLPAfFuFhaWJpAYEBQC+SeA+BDQC5UQIQpJYFgdodQLLyh0w6j20RCgUggAAEREPpKMfaEsAAAAAElFTkSuQmCC&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;" type="text">
</div>
<div class="form-group">
  <label class="control-label" for="id_password">Password</label>
  <input class="form-control" id="id_password" maxlength="40" name="password" placeholder="Password" title="" required="" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAAAXNSR0IArs4c6QAAALZJREFUOBFjYKAANDQ0rGWiQD9IqzgL0BQ3IKMXiB8AcSKQ/waIrYDsKUD8Fir2pKmpSf/fv3+zgPxfzMzMSbW1tbeBbAaQC+b+//9fB4h9gOwikCAQTAPyDYHYBciuBQkANfcB+WZAbPP37992kBgIUOoFBiZGRsYkIL4ExJvZ2NhAXmFgYmLKBPLPAfFuFhaWJpAYEBQC+SeA+BDQC5UQIQpJYFgdodQLLyh0w6j20RCgUggAAEREPpKMfaEsAAAAAElFTkSuQmCC&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%;" type="text"></div>
<div class="form-group">
  <label class="control-label" for="id_services">Services</label>
  <select multiple="multiple" class="form-control" id="id_services" name="services" title="" required="">
  {% for s in services %}
    <option value="{{s.id}}">{{s.name}}</option>
  {% endfor %}
  </select>
</div>
</div>
<div class="modal-footer">
<input type='hidden' name='type' value='credential' />
<input type="submit" class="btn btn-success" />
</form>
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

{% endblock %}
