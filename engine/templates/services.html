{% extends 'base.html' %}

{% load bootstrap3 %}

{% block services %}active{% endblock %}

{% block content %}
<h2>Services</h2>

<table class="table">
<thead>
<tr>
<th>ID</th>
<th>Display Name</th>
<th>Plugin</th>
<th>IP Template</th>
<th>Port</th>
<th></th>
</tr>
</thead>
<tbody>
{% for s in services %}
<tr>
<td>{{ s.pk }}</td>
<td>{{ s.name }}</td>
<td>{{ s.plugin }}</td>
<td>{Team Subnet} + {{ s.subnet_host }}</td>
<td>{{ s.port }}</td>
<td>
<form method="post" action="{% url 'services' %}">
{% csrf_token %}
<input type='hidden' name='type' value='service' />
<input type='hidden' name='delete' value='true' />
<input type='hidden' name='id' value='{{ s.pk }}' />
<button class="btn btn-danger pull-right">
<span class="glyphicon glyphicon-trash"></span>
</button>
</form>
</td>
</tr>
{% endfor %}
<tr>
<td colspan="4">
<button class="btn btn-success" data-toggle="modal" data-target="#serviceModal">
<span class="glyphicon glyphicon-plus"></span>
</button>
</td>
</tr>
</tbody>
</table>

{% endblock %}

{% block after %}
<div class="modal fade" id="serviceModal" tabindex="-1" role="dialog" aria-labelledby="serviceModalLabel">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
<h4 class="modal-title" id="serviceModalLabel">New Service</h4>
</div>
<div class="modal-body">
<form method="post" action="{% url 'services'  %}">
{% csrf_token %}
{% bootstrap_form service_form %}
</div>
<div class="modal-footer">
<input type='hidden' name='type' value='service' />
<input type="submit" class="btn btn-success" />
</form>
<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>

{% endblock %}
